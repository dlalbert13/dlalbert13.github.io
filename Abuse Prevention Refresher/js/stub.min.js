function Utils(){}function s4xdmInit(){switch(s4xdmConfig.scormVersion){case"12":scorm=scorm12Obj;break;case"2004":scorm=scorm2004Obj}document.body.innerHTML='<div id="scorm_content_frame_201542433" class="fullscreen"></div>',scorm.loadDataFromLMS(),setTimeout(function(){launchProvider(scorm)},1)}function s4xdmUnload(){scorm.finish()}function displayProtected(){var e=document.getElementById("scorm_content_frame_201542433");e.innerHTML="<h1>Access Denied</h1><p>You do not have access to the course you were attempting to open. Please contact your LMS administrator for more information."}function launchProvider(e){var t,n,r,o;o=new Utils,t=o.parseQueryString(document.location.href),scoPath=t.res_21983[0],courseDir=s4xdmConfig.courseDir,t.dir_21983&&t.dir_21983.length>0&&(courseDir=t.dir_21983[0]),console.log("scopath",scoPath,"coursedir",courseDir),n=s4xdmConfig.width?s4xdmConfig.width:0,r=s4xdmConfig.height?s4xdmConfig.height:0;var i=s4xdmConfig.providerBaseURL,a=i+"/provider.htm",s="../js/easyxdm/name.html",c=i+"/easyxdm/easyxdm.swf",l=i+"/easyxdm/name.html";s4xdmConfig.providerURL&&(a=s4xdmConfig.providerURL),console.log("getSCORMData() parameters for comm socket"),console.log(">>	provider: "+a),console.log(">>	swf: "+c),console.log(">>	local: "+s),console.log(">> remoteHelper: "+l),console.log(">> onMessage: waiting for data..."),console.log(">> onReady: waiting for data...");var u={};n&&r?u.style={width:n+"px",height:r+"px"}:u.style={width:"100%",height:"100%"},socket=new easyXDM.Socket({local:s,swf:c,container:"scorm_content_frame_201542433",swfNoThrottle:!0,remote:a,remoteHelper:l,props:u,onMessage:onMessage,onReady:bridgeReady})}function bridgeReady(){console.log("onReady fired. comm socket is ready."),console.log("courseDir",courseDir);var e={action:"load",scormVersion:s4xdmConfig.scormVersion,details:s4xdmConfig.providerConfig,courseDir:courseDir,scoPath:scoPath,scoData:scorm.getRuntimeData()};s4xdmConfig.shareCookiesWithProvider&&(e.cookies=Cookies.get()),console.log("message",JSON.stringify(e)),socket.postMessage(JSON.stringify(e))}function onMessage(e,t){console.log("onMessage fired message = ",e);var n=JSON.parse(e);"alert"===n.command?alert(n.alert):"set"===n.command?scorm.set(n.k,n.v):"commit"===n.command?scorm.commit():"finish"===n.command?scorm.finish():"setCookie"===n.command?Cookies.set(n.k,n.v,n.cookieProperties):"notAllowed"===n.command?displayProtected():alert("Unknown command in onMessage",e)}this.JSON||(this.JSON={}),function(){function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,o,i,a,s=gap,c=t[e];switch(c&&"object"==typeof c&&"function"==typeof c.toJSON&&(c=c.toJSON(e)),"function"==typeof rep&&(c=rep.call(t,e,c)),typeof c){case"string":return quote(c);case"number":return isFinite(c)?String(c):"null";case"boolean":case"null":return String(c);case"object":if(!c)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(c)){for(i=c.length,n=0;i>n;n+=1)a[n]=str(n,c)||"null";return o=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+s+"]":"["+a.join(",")+"]",gap=s,o}if(rep&&"object"==typeof rep)for(i=rep.length,n=0;i>n;n+=1)r=rep[n],"string"==typeof r&&(o=str(r,c),o&&a.push(quote(r)+(gap?": ":":")+o));else for(r in c)Object.hasOwnProperty.call(c,r)&&(o=str(r,c),o&&a.push(quote(r)+(gap?": ":":")+o));return o=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+s+"}":"{"+a.join(",")+"}",gap=s,o}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;n>r;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var n,r,o=e[t];if(o&&"object"==typeof o)for(n in o)Object.hasOwnProperty.call(o,n)&&(r=walk(o,n),void 0!==r?o[n]=r:delete o[n]);return reviver.call(e,t,o)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(e,t,n,r,o,i){function a(e,t){var n=typeof e[t];return"function"==n||!("object"!=n||!e[t])||"unknown"==n}function s(e,t){return!("object"!=typeof e[t]||!e[t])}function c(e){return"[object Array]"===Object.prototype.toString.call(e)}function l(){var e="Shockwave Flash",t="application/x-shockwave-flash";if(!w(navigator.plugins)&&"object"==typeof navigator.plugins[e]){var n=navigator.plugins[e].description;n&&!w(navigator.mimeTypes)&&navigator.mimeTypes[t]&&navigator.mimeTypes[t].enabledPlugin&&(T=n.match(/\d+/g))}if(!T){var r;try{r=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),T=Array.prototype.slice.call(r.GetVariable("$version").match(/(\d+),(\d+),(\d+),(\d+)/),1),r=null}catch(o){}}if(!T)return!1;var i=parseInt(T[0],10),a=parseInt(T[1],10);return R=i>9&&a>0,!0}function u(){if(!V){V=!0,U("firing dom_onReady");for(var e=0;e<z.length;e++)z[e]();z.length=0}}function f(e,t){return V?void e.call(t):void z.push(function(){e.call(t)})}function p(){var e=parent;if(""!==L)for(var t=0,n=L.split(".");t<n.length;t++){if(!e)throw new Error(n.slice(0,t+1).join(".")+" is not an object");e=e[n[t]]}if(!e||!e.easyXDM)throw new Error("Could not find easyXDM in parent."+L);return e.easyXDM}function d(t){if("string"!=typeof t||!t)throw new Error("namespace must be a non-empty string");return U("Settings namespace to '"+t+"'"),e.easyXDM=I,L=t,L&&(X="easyXDM_"+L.replace(".","_")+"_"),F}function m(e){if(!e)throw new Error("url is undefined or empty");return e.match(A)[3]}function h(e){if(!e)throw new Error("url is undefined or empty");return e.match(A)[4]||""}function g(e){if(!e)throw new Error("url is undefined or empty");if(/^file/.test(e))throw new Error("The file:// protocol is not supported");var t=e.toLowerCase().match(A),n=t[2],r=t[3],o=t[4]||"";return("http:"==n&&":80"==o||"https:"==n&&":443"==o)&&(o=""),n+"//"+r+o}function y(e){if(!e)throw new Error("url is undefined or empty");if(e=e.replace(P,"$1/"),!e.match(/^(http||https):\/\//)){var t="/"===e.substring(0,1)?"":n.pathname;"/"!==t.substring(t.length-1)&&(t=t.substring(0,t.lastIndexOf("/")+1)),e=n.protocol+"//"+n.host+t+e}for(;E.test(e);)e=e.replace(E,"");return U("resolved url '"+e+"'"),e}function v(e,t){if(!t)throw new Error("parameters is undefined or null");var n="",r=e.indexOf("#");-1!==r&&(n=e.substring(r),e=e.substring(0,r));var o=[];for(var a in t)t.hasOwnProperty(a)&&o.push(a+"="+i(t[a]));return e+(J?"#":-1==e.indexOf("?")?"?":"&")+o.join("&")+n}function w(e){return"undefined"==typeof e}function _(e,t,n){var r;for(var o in t)t.hasOwnProperty(o)&&(o in e?(r=t[o],"object"==typeof r?_(e[o],r,n):n||(e[o]=t[o])):e[o]=t[o]);return e}function b(){var e=t.body.appendChild(t.createElement("form")),n=e.appendChild(t.createElement("input"));n.name=X+"TEST"+H,M=n!==e.elements[n.name],t.body.removeChild(e),U("HAS_NAME_PROPERTY_BUG: "+M)}function x(e){U("creating frame: "+e.props.src),w(M)&&b();var n;M?n=t.createElement('<iframe name="'+e.props.name+'"/>'):(n=t.createElement("IFRAME"),n.name=e.props.name),n.id=n.name=e.props.name,n.setAttribute("allowfullscreen",""),n.setAttribute("mozallowfullscreen",""),n.setAttribute("webkitallowfullscreen",""),n.setAttribute("oallowfullscreen",""),n.setAttribute("msallowfullscreen",""),delete e.props.name,"string"==typeof e.container&&(e.container=t.getElementById(e.container)),e.container||(_(n.style,{position:"absolute",top:"-2000px",left:"0px"}),e.container=t.body);var r=e.props.src;if(e.props.src="javascript:false",_(n,e.props),n.border=n.frameBorder=0,n.allowTransparency=!0,e.container.appendChild(n),e.onLoad&&j(n,"load",e.onLoad),e.usePost){var o,i=e.container.appendChild(t.createElement("form"));if(i.target=n.name,i.action=r,i.method="POST","object"==typeof e.usePost)for(var a in e.usePost)e.usePost.hasOwnProperty(a)&&(M?o=t.createElement('<input name="'+a+'"/>'):(o=t.createElement("INPUT"),o.name=a),o.value=e.usePost[a],i.appendChild(o));i.submit(),i.parentNode.removeChild(i)}else n.src=r;return e.props.src=r,n}function k(e,t){"string"==typeof e&&(e=[e]);for(var n,r=e.length;r--;)if(n=e[r],n=new RegExp("^"==n.substr(0,1)?n:"^"+n.replace(/(\*)/g,".$1").replace(/\?/g,".")+"$"),n.test(t))return!0;return!1}function S(r){var o,i=r.protocol;if(r.isHost=r.isHost||w(G.xdm_p),J=r.hash||!1,U("preparing transport stack"),r.props||(r.props={}),r.isHost)r.remote=y(r.remote),r.channel=r.channel||"default"+H++,r.secret=Math.random().toString(16).substring(2),w(i)?(i=g(n.href)==g(r.remote)?"4":a(e,"postMessage")||a(t,"postMessage")?"1":r.swf&&a(e,"ActiveXObject")&&l()?"6":"Gecko"===navigator.product&&"frameElement"in e&&-1==navigator.userAgent.indexOf("WebKit")?"5":r.remoteHelper?"2":"0",U("selecting protocol: "+i)):U("using protocol: "+i);else if(U("using parameters from query"),r.channel=G.xdm_c.replace(/["'<>\\]/g,""),r.secret=G.xdm_s,r.remote=G.xdm_e.replace(/["'<>\\]/g,""),i=G.xdm_p,r.acl&&!k(r.acl,r.remote))throw new Error("Access denied for "+r.remote);switch(r.protocol=i,i){case"0":if(_(r,{interval:100,delay:2e3,useResize:!0,useParent:!1,usePolling:!1},!0),r.isHost){if(!r.local){U("looking for image to use as local");for(var s,c=n.protocol+"//"+n.host,u=t.body.getElementsByTagName("img"),f=u.length;f--;)if(s=u[f],s.src.substring(0,c.length)===c){r.local=s.src;break}r.local||(U("no image found, defaulting to using the window"),r.local=e)}var p={xdm_c:r.channel,xdm_p:0};r.local===e?(r.usePolling=!0,r.useParent=!0,r.local=n.protocol+"//"+n.host+n.pathname+n.search,p.xdm_e=r.local,p.xdm_pa=1):p.xdm_e=y(r.local),r.container&&(r.useResize=!1,p.xdm_po=1),r.remote=v(r.remote,p)}else _(r,{useParent:!w(G.xdm_pa),usePolling:!w(G.xdm_po),useResize:r.useParent?!1:r.useResize});o=[new F.stack.HashTransport(r),new F.stack.ReliableBehavior({}),new F.stack.QueueBehavior({encode:!0,maxLength:4e3-r.remote.length}),new F.stack.VerifyBehavior({initiate:r.isHost})];break;case"1":o=[new F.stack.PostMessageTransport(r)];break;case"2":r.isHost&&(r.remoteHelper=y(r.remoteHelper)),o=[new F.stack.NameTransport(r),new F.stack.QueueBehavior,new F.stack.VerifyBehavior({initiate:r.isHost})];break;case"3":o=[new F.stack.NixTransport(r)];break;case"4":o=[new F.stack.SameOriginTransport(r)];break;case"5":o=[new F.stack.FrameElementTransport(r)];break;case"6":T||l(),o=[new F.stack.FlashTransport(r)]}return o.push(new F.stack.QueueBehavior({lazy:r.lazy,remove:!0})),o}function O(e){for(var t,n={incoming:function(e,t){this.up.incoming(e,t)},outgoing:function(e,t){this.down.outgoing(e,t)},callback:function(e){this.up.callback(e)},init:function(){this.down.init()},destroy:function(){this.down.destroy()}},r=0,o=e.length;o>r;r++)t=e[r],_(t,n,!0),0!==r&&(t.down=e[r-1]),r!==o-1&&(t.up=e[r+1]);return t}function C(e){e.up.down=e.down,e.down.up=e.up,e.up=e.down=null}var M,T,R,j,D,q=this,H=Math.floor(1e4*Math.random()),N=Function.prototype,A=/^((http.?:)\/\/([^:\/\s]+)(:\d+)*)/,E=/[\-\w]+\/\.\.\//,P=/([^:])\/\//g,L="",F={},I=e.easyXDM,X="easyXDM_",J=!1,U=N;if(a(e,"addEventListener"))j=function(e,t,n){U("adding listener "+t),e.addEventListener(t,n,!1)},D=function(e,t,n){U("removing listener "+t),e.removeEventListener(t,n,!1)};else{if(!a(e,"attachEvent"))throw new Error("Browser not supported");j=function(e,t,n){U("adding listener "+t),e.attachEvent("on"+t,n)},D=function(e,t,n){U("removing listener "+t),e.detachEvent("on"+t,n)}}var B,V=!1,z=[];if("readyState"in t?(B=t.readyState,V="complete"==B||~navigator.userAgent.indexOf("AppleWebKit/")&&("loaded"==B||"interactive"==B)):V=!!t.body,!V){if(a(e,"addEventListener"))j(t,"DOMContentLoaded",u);else if(j(t,"readystatechange",function(){"complete"==t.readyState&&u()}),t.documentElement.doScroll&&e===top){var W=function(){if(!V){try{t.documentElement.doScroll("left")}catch(e){return void r(W,1)}u()}};W()}j(e,"load",u)}var G=function(e){e=e.substring(1).split("&");for(var t,n={},r=e.length;r--;)t=e[r].split("="),n[t[0]]=o(t[1]);return n}(/xdm_e=/.test(n.search)?n.search:n.hash),Q=function(){var e={},t={a:[1,2,3]},n='{"a":[1,2,3]}';return"undefined"!=typeof JSON&&"function"==typeof JSON.stringify&&JSON.stringify(t).replace(/\s/g,"")===n?JSON:(Object.toJSON&&Object.toJSON(t).replace(/\s/g,"")===n&&(e.stringify=Object.toJSON),"function"==typeof String.prototype.evalJSON&&(t=n.evalJSON(),t.a&&3===t.a.length&&3===t.a[2]&&(e.parse=function(e){return e.evalJSON()})),e.stringify&&e.parse?(Q=function(){return e},e):null)};_(F,{version:"2.4.20.7",query:G,stack:{},apply:_,getJSONObject:Q,whenReady:f,noConflict:d}),_(F,{checkAcl:k,getDomainName:m,getLocation:g,appendQueryParameters:v});var $={_deferred:[],flush:function(){this.trace("... deferred messages ...");for(var e=0,t=this._deferred.length;t>e;e++)this.trace(this._deferred[e]);this._deferred.length=0,this.trace("... end of deferred messages ...")},getTime:function(){var e=new Date,t=e.getHours()+"",n=e.getMinutes()+"",r=e.getSeconds()+"",o=e.getMilliseconds()+"",i="000";return 1==t.length&&(t="0"+t),1==n.length&&(n="0"+n),1==r.length&&(r="0"+r),o=i.substring(o.length)+o,t+":"+n+":"+r+"."+o},log:function(t){!s(e,"console")||w(console.log)?this.log=N:this.log=function(e){console.log(n.host+(L?":"+L:"")+" - "+this.getTime()+": "+e)},this.log(t)},trace:function(r){if(V){var o=t.getElementById("log");if(o)this.trace=function(e){try{o.appendChild(t.createElement("div")).appendChild(t.createTextNode(n.host+(L?":"+L:"")+" - "+this.getTime()+":"+e)),o.scrollTop=o.scrollHeight}catch(r){}};else if(s(e,"console")&&!w(console.info))this.trace=function(e){console.info(n.host+(L?":"+L:"")+" - "+this.getTime()+":"+e)};else{var i,a=n.host,c=a.replace(/[\-.:]/g,"")+"easyxdm_log";try{i=e.open("",c,"width=800,height=200,status=0,navigation=0,scrollbars=1")}catch(l){}if(i){var u=i.document;o=u.getElementById("log"),o||(u.write("<html><head><title>easyXDM log "+a+"</title></head>"),u.write('<body><div id="log"></div></body></html>'),u.close(),o=u.getElementById("log")),this.trace=function(e){try{o.appendChild(u.createElement("div")).appendChild(u.createTextNode(n.host+(L?":"+L:"")+" - "+this.getTime()+":"+e)),o.scrollTop=o.scrollHeight}catch(t){}},this.trace("---- new logger at "+n.href)}o||(this.trace=N)}this.trace(r)}else 0===this._deferred.length&&F.whenReady($.flush,$),this._deferred.push(r),this.log(r)},getTracer:function(e){return function(t){$.trace(e+": "+t)}}};$.log("easyXDM present on '"+n.href),F.Debug=$,U=$.getTracer("{Private}"),F.DomHelper={on:j,un:D,requiresJSON:function(n){s(e,"JSON")?$.log("native JSON found"):($.log("loading external JSON"),t.write('<script type="text/javascript" src="'+n+'"></script>'))}},function(){var e={};F.Fn={set:function(t,n){this._trace("storing function "+t),e[t]=n},get:function(t,n){if(this._trace("retrieving function "+t),e.hasOwnProperty(t)){var r=e[t];return r||this._trace(t+" not found"),n&&delete e[t],r}}},F.Fn._trace=$.getTracer("easyXDM.Fn")}(),F.Socket=function(e){var t=$.getTracer("easyXDM.Socket");t("constructor");var n=O(S(e).concat([{incoming:function(t,n){e.onMessage(t,n)},callback:function(t){e.onReady&&e.onReady(t)}}])),r=g(e.remote);this.origin=g(e.remote),this.destroy=function(){n.destroy()},this.postMessage=function(e){n.outgoing(e,r)},n.init()},F.Rpc=function(e,t){var n=$.getTracer("easyXDM.Rpc");if(n("constructor"),t.local)for(var r in t.local)if(t.local.hasOwnProperty(r)){var o=t.local[r];"function"==typeof o&&(t.local[r]={method:o})}var i=O(S(e).concat([new F.stack.RpcBehavior(this,t),{callback:function(t){e.onReady&&e.onReady(t)}}]));this.origin=g(e.remote),this.destroy=function(){i.destroy()},i.init()},F.stack.SameOriginTransport=function(e){var t=$.getTracer("easyXDM.stack.SameOriginTransport");t("constructor");var o,i,a,s;return o={outgoing:function(e,t,n){a(e),n&&n()},destroy:function(){t("destroy"),i&&(i.parentNode.removeChild(i),i=null)},onDOMReady:function(){t("init"),s=g(e.remote),e.isHost?(_(e.props,{src:v(e.remote,{xdm_e:n.protocol+"//"+n.host+n.pathname,xdm_c:e.channel,xdm_p:4}),name:X+e.channel+"_provider"}),i=x(e),F.Fn.set(e.channel,function(e){return a=e,r(function(){o.up.callback(!0)},0),function(e){o.up.incoming(e,s)}})):(a=p().Fn.get(e.channel,!0)(function(e){o.up.incoming(e,s)}),r(function(){o.up.callback(!0)},0))},init:function(){f(o.onDOMReady,o)}}},F.stack.FlashTransport=function(e){function o(e,t){r(function(){s("received message"),c.up.incoming(e,u)},0)}function a(n){s("creating factory with SWF from "+n);var r=e.swf+"?host="+e.isHost,o="easyXDM_swf_"+Math.floor(1e4*Math.random());F.Fn.set("flash_loaded"+n.replace(/[\-.]/g,"_"),function(){F.stack.FlashTransport[n].swf=p=d.firstChild;for(var e=F.stack.FlashTransport[n].queue,t=0;t<e.length;t++)e[t]();e.length=0}),e.swfContainer?d="string"==typeof e.swfContainer?t.getElementById(e.swfContainer):e.swfContainer:(d=t.createElement("div"),_(d.style,R&&e.swfNoThrottle?{height:"20px",width:"20px",position:"fixed",right:0,top:0}:{height:"1px",width:"1px",position:"absolute",overflow:"hidden",right:0,top:0}),t.body.appendChild(d));var a="callback=flash_loaded"+i(n.replace(/[\-.]/g,"_"))+"&proto="+q.location.protocol+"&domain="+i(m(q.location.href))+"&port="+i(h(q.location.href))+"&ns="+i(L);a+="&log=true",d.innerHTML="<object height='20' width='20' type='application/x-shockwave-flash' id='"+o+"' data='"+r+"'><param name='allowScriptAccess' value='always'></param><param name='wmode' value='transparent'><param name='movie' value='"+r+"'></param><param name='flashvars' value='"+a+"'></param><embed type='application/x-shockwave-flash' FlashVars='"+a+"' allowScriptAccess='always' wmode='transparent' src='"+r+"' height='1' width='1'></embed></object>"}var s=$.getTracer("easyXDM.stack.FlashTransport");if(s("constructor"),!e.swf)throw new Error("Path to easyxdm.swf is missing");var c,l,u,p,d;return c={outgoing:function(t,n,r){p.postMessage(e.channel,t.toString()),r&&r()},destroy:function(){s("destroy");try{p.destroyChannel(e.channel)}catch(t){}p=null,l&&(l.parentNode.removeChild(l),l=null)},onDOMReady:function(){s("init"),u=e.remote,F.Fn.set("flash_"+e.channel+"_init",function(){r(function(){s("firing onReady"),c.up.callback(!0)})}),F.Fn.set("flash_"+e.channel+"_onMessage",o),e.swf=y(e.swf);var t=m(e.swf),i=function(){F.stack.FlashTransport[t].init=!0,p=F.stack.FlashTransport[t].swf,p.createChannel(e.channel,e.secret,g(e.remote),e.isHost),e.isHost&&(R&&e.swfNoThrottle&&_(e.props,{position:"fixed",right:0,top:0,height:"20px",width:"20px"}),_(e.props,{src:v(e.remote,{xdm_e:g(n.href),xdm_c:e.channel,xdm_p:6,xdm_s:e.secret}),name:X+e.channel+"_provider"}),l=x(e))};F.stack.FlashTransport[t]&&F.stack.FlashTransport[t].init?i():F.stack.FlashTransport[t]?F.stack.FlashTransport[t].queue.push(i):(F.stack.FlashTransport[t]={queue:[i]},a(t))},init:function(){f(c.onDOMReady,c)}}},F.stack.PostMessageTransport=function(t){function o(e){if(e.origin)return g(e.origin);if(e.uri)return g(e.uri);if(e.domain)return n.protocol+"//"+e.domain;throw"Unable to retrieve the origin of the event"}function i(e){if("string"==typeof e.data){var n=o(e);s("received message '"+e.data+"' from "+n),n==p&&e.data.substring(0,t.channel.length+1)==t.channel+" "&&c.up.incoming(e.data.substring(t.channel.length+1),n)}}function a(n){n.data==t.channel+"-ready"&&(s("firing onReady"),u="postMessage"in l.contentWindow?l.contentWindow:l.contentWindow.document,D(e,"message",a),j(e,"message",i),r(function(){c.up.callback(!0)},0))}var s=$.getTracer("easyXDM.stack.PostMessageTransport");s("constructor");var c,l,u,p;return c={outgoing:function(e,n,r){u.postMessage(t.channel+" "+e,n||p),r&&r()},destroy:function(){s("destroy"),D(e,"message",a),D(e,"message",i),l&&(u=null,l.parentNode.removeChild(l),l=null)},onDOMReady:function(){s("init"),p=g(t.remote),t.isHost?(j(e,"message",a),_(t.props,{src:v(t.remote,{xdm_e:g(n.href),xdm_c:t.channel,xdm_p:1}),name:X+t.channel+"_provider"}),l=x(t)):(j(e,"message",i),u="postMessage"in e.parent?e.parent:e.parent.document,u.postMessage(t.channel+"-ready",p),r(function(){c.up.callback(!0)},0))},init:function(){f(c.onDOMReady,c)}}},F.stack.FrameElementTransport=function(o){var i=$.getTracer("easyXDM.stack.FrameElementTransport");i("constructor");var a,s,c,l;return a={outgoing:function(e,t,n){c.call(this,e),n&&n()},destroy:function(){i("destroy"),s&&(s.parentNode.removeChild(s),s=null)},onDOMReady:function(){i("init"),l=g(o.remote),o.isHost?(_(o.props,{src:v(o.remote,{xdm_e:g(n.href),xdm_c:o.channel,xdm_p:5}),name:X+o.channel+"_provider"}),s=x(o),s.fn=function(e){return delete s.fn,c=e,r(function(){a.up.callback(!0)},0),function(e){a.up.incoming(e,l)}}):(t.referrer&&g(t.referrer)!=G.xdm_e&&(e.top.location=G.xdm_e),c=e.frameElement.fn(function(e){a.up.incoming(e,l)}),a.up.callback(!0))},init:function(){f(a.onDOMReady,a)}}},F.stack.NameTransport=function(e){function t(t){var n=e.remoteHelper+(c?"#_3":"#_2")+e.channel;a("sending message "+t),a("navigating to  '"+n+"'"),l.contentWindow.sendMessage(t,n)}function n(){c?2!==++p&&c||s.up.callback(!0):(t("ready"),a("calling onReady"),s.up.callback(!0))}function o(e){a("received message "+e),s.up.incoming(e,m)}function i(){d&&r(function(){d(!0)},0)}var a=$.getTracer("easyXDM.stack.NameTransport");if(a("constructor"),e.isHost&&w(e.remoteHelper))throw a("missing remoteHelper"),new Error("missing remoteHelper");var s,c,l,u,p,d,m,h;return s={outgoing:function(e,n,r){d=r,t(e)},destroy:function(){a("destroy"),l.parentNode.removeChild(l),l=null,c&&(u.parentNode.removeChild(u),u=null)},onDOMReady:function(){a("init"),c=e.isHost,p=0,m=g(e.remote),e.local=y(e.local),c?(F.Fn.set(e.channel,function(t){a("received initial message "+t),c&&"ready"===t&&(F.Fn.set(e.channel,o),n())}),h=v(e.remote,{xdm_e:e.local,xdm_c:e.channel,xdm_p:2}),_(e.props,{src:h+"#"+e.channel,name:X+e.channel+"_provider"}),u=x(e)):(e.remoteHelper=e.remote,F.Fn.set(e.channel,o));var t=function(){var o=l||this;D(o,"load",t),F.Fn.set(e.channel+"_load",i),function a(){"function"==typeof o.contentWindow.sendMessage?n():r(a,50)}()};l=x({props:{src:e.local+"#_4"+e.channel},onLoad:t})},init:function(){f(s.onDOMReady,s)}}},F.stack.HashTransport=function(t){function n(e){if(s("sending message '"+(m+1)+" "+e+"' to "+w),!y)return void s("no caller window");var n=t.remote+"#"+m++ +"_"+e;(l||!v?y.contentWindow:y).location=n}function o(e){d=e,s("received message '"+d+"' from "+w),c.up.incoming(d.substring(d.indexOf("_")+1),w)}function i(){if(h){var e=h.location.href,t="",n=e.indexOf("#");-1!=n&&(t=e.substring(n)),t&&t!=d&&(s("poll: new message"),o(t))}}function a(){s("starting polling"),u=setInterval(i,p)}var s=$.getTracer("easyXDM.stack.HashTransport");s("constructor");var c,l,u,p,d,m,h,y,v,w;return c={outgoing:function(e,t){n(e)},destroy:function(){e.clearInterval(u),!l&&v||y.parentNode.removeChild(y),y=null},onDOMReady:function(){if(l=t.isHost,p=t.interval,d="#"+t.channel,m=0,v=t.useParent,w=g(t.remote),l){if(_(t.props,{src:t.remote,name:X+t.channel+"_provider"}),v)t.onLoad=function(){h=e,a(),c.up.callback(!0)};else{var n=0,o=t.delay/50;!function i(){if(++n>o)throw s("unable to get reference to _listenerWindow, giving up"),new Error("Unable to reference listenerwindow");try{h=y.contentWindow.frames[X+t.channel+"_consumer"]}catch(e){}h?(a(),s("got a reference to _listenerWindow"),c.up.callback(!0)):r(i,50)}()}y=x(t)}else h=e,a(),v?(y=parent,c.up.callback(!0)):(_(t,{props:{src:t.remote+"#"+t.channel+new Date,name:X+t.channel+"_consumer"},onLoad:function(){c.up.callback(!0)}}),y=x(t))},init:function(){f(c.onDOMReady,c)}}},F.stack.ReliableBehavior=function(e){var t=$.getTracer("easyXDM.stack.ReliableBehavior");t("constructor");var n,r,o=0,i=0,a="";return n={incoming:function(e,s){t("incoming: "+e);var c=e.indexOf("_"),l=e.substring(0,c).split(",");e=e.substring(c+1),l[0]==o&&(t("message delivered"),a="",r&&r(!0)),e.length>0&&(t("sending ack, and passing on "+e),n.down.outgoing(l[1]+","+o+"_"+a,s),i!=l[1]&&(i=l[1],n.up.incoming(e,s)))},outgoing:function(e,t,s){a=e,r=s,n.down.outgoing(i+","+ ++o+"_"+e,t)}}},F.stack.QueueBehavior=function(e){function t(){if(e.remove&&0===c.length)return n("removing myself from the stack"),void C(a);if(!l&&0!==c.length&&!s){n("dispatching from queue"),l=!0;var o=c.shift();a.down.outgoing(o.data,o.origin,function(e){l=!1,o.callback&&r(function(){o.callback(e)},0),t()})}}var n=$.getTracer("easyXDM.stack.QueueBehavior");n("constructor");var a,s,c=[],l=!0,u="",f=0,p=!1,d=!1;return a={init:function(){w(e)&&(e={}),e.maxLength&&(f=e.maxLength,d=!0),e.lazy?p=!0:a.down.init()},callback:function(e){l=!1;var n=a.up;t(),n.callback(e)},incoming:function(t,r){if(d){var i=t.indexOf("_"),s=parseInt(t.substring(0,i),10);u+=t.substring(i+1),0===s?(n("received the last fragment"),e.encode&&(u=o(u)),a.up.incoming(u,r),u=""):n("waiting for more fragments, seq="+t)}else a.up.incoming(t,r)},outgoing:function(r,o,s){e.encode&&(r=i(r));var l,u=[];if(d){for(;0!==r.length;)l=r.substring(0,f),r=r.substring(l.length),u.push(l);for(;l=u.shift();)n("enqueuing"),c.push({data:u.length+"_"+l,origin:o,callback:0===u.length?s:null})}else c.push({data:r,origin:o,callback:s});p?a.down.init():t()},destroy:function(){n("destroy"),s=!0,a.down.destroy()}}},F.stack.VerifyBehavior=function(e){function t(){n("requesting verification"),o=Math.random().toString(16).substring(2),r.down.outgoing(o)}var n=$.getTracer("easyXDM.stack.VerifyBehavior");if(n("constructor"),w(e.initiate))throw new Error("settings.initiate is not set");var r,o,i;return r={incoming:function(a,s){var c=a.indexOf("_");-1===c?a===o?(n("verified, calling callback"),r.up.callback(!0)):i||(n("returning secret"),i=a,e.initiate||t(),r.down.outgoing(a)):a.substring(0,c)===i&&r.up.incoming(a.substring(c+1),s)},outgoing:function(e,t,n){r.down.outgoing(o+"_"+e,t,n)},callback:function(n){e.initiate&&t()}}},F.stack.RpcBehavior=function(e,t){function n(e){e.jsonrpc="2.0",i.down.outgoing(s.stringify(e))}function r(e,t){var r=Array.prototype.slice;return a("creating method "+t),function(){a("executing method "+t);var o,i=arguments.length,s={method:t};i>0&&"function"==typeof arguments[i-1]?(i>1&&"function"==typeof arguments[i-2]?(o={success:arguments[i-2],error:arguments[i-1]},s.params=r.call(arguments,0,i-2)):(o={success:arguments[i-1]},s.params=r.call(arguments,0,i-1)),u[""+ ++l]=o,s.id=l):s.params=r.call(arguments,0),e.namedParams&&1===s.params.length&&(s.params=s.params[0]),n(s)}}function o(e,t,r,o){if(!r)return a("requested to execute non-existent procedure "+e),void(t&&n({id:t,error:{code:-32601,message:"Procedure not found."}}));a("requested to execute procedure "+e);var i,s;t?(i=function(e){i=N,n({id:t,result:e})},s=function(e,r){s=N;var o={id:t,error:{code:-32099,message:e}};r&&(o.error.data=r),n(o)}):i=s=N,c(o)||(o=[o]);try{var l=r.method.apply(r.scope,o.concat([i,s]));w(l)||i(l)}catch(u){s(u.message)}}var i,a=$.getTracer("easyXDM.stack.RpcBehavior"),s=t.serializer||Q(),l=0,u={};return i={incoming:function(e,r){var i=s.parse(e);if(i.method)a("received request to execute method "+i.method+(i.id?" using callback id "+i.id:"")),t.handle?t.handle(i,n):o(i.method,i.id,t.local[i.method],i.params);else{a("received return value destined to callback with id "+i.id);var c=u[i.id];i.error?c.error?c.error(i.error):a("unhandled error returned."):c.success&&c.success(i.result),delete u[i.id]}},init:function(){if(a("init"),t.remote){a("creating stubs");for(var n in t.remote)t.remote.hasOwnProperty(n)&&(e[n]=r(t.remote[n],n))}i.down.init()},destroy:function(){a("destroy");for(var n in t.remote)t.remote.hasOwnProperty(n)&&e.hasOwnProperty(n)&&delete e[n];i.down.destroy()}}},q.easyXDM=F}(window,document,location,window.setTimeout,decodeURIComponent,encodeURIComponent),!function(e,t,n){"undefined"!=typeof module&&module.exports?module.exports=n():"function"==typeof define&&define.amd?define(n):t[e]=n()}("reqwest",this,function(){function succeed(e){var t=protocolRe.exec(e.url);return t=t&&t[1]||context.location.protocol,httpsRe.test(t)?twoHundo.test(e.request.status):!!e.request.response}function handleReadyState(e,t,n){return function(){return e._aborted?n(e.request):e._timedOut?n(e.request,"Request is aborted: timeout"):void(e.request&&4==e.request[readyState]&&(e.request.onreadystatechange=noop,succeed(e)?t(e.request):n(e.request)))}}function setHeaders(e,t){var n,r=t.headers||{};r.Accept=r.Accept||defaultHeaders.accept[t.type]||defaultHeaders.accept["*"];var o="undefined"!=typeof FormData&&t.data instanceof FormData;!t.crossOrigin&&!r[requestedWith]&&(r[requestedWith]=defaultHeaders.requestedWith),!r[contentType]&&!o&&(r[contentType]=t.contentType||defaultHeaders.contentType);for(n in r)r.hasOwnProperty(n)&&"setRequestHeader"in e&&e.setRequestHeader(n,r[n])}function setCredentials(e,t){"undefined"!=typeof t.withCredentials&&"undefined"!=typeof e.withCredentials&&(e.withCredentials=!!t.withCredentials)}function generalCallback(e){lastValue=e}function urlappend(e,t){return e+(/\?/.test(e)?"&":"?")+t}function handleJsonp(e,t,n,r){var o=uniqid++,i=e.jsonpCallback||"callback",a=e.jsonpCallbackName||reqwest.getcallbackPrefix(o),s=new RegExp("((^|\\?|&)"+i+")=([^&]+)"),c=r.match(s),l=doc.createElement("script"),u=0,f=-1!==navigator.userAgent.indexOf("MSIE 10.0");return c?"?"===c[3]?r=r.replace(s,"$1="+a):a=c[3]:r=urlappend(r,i+"="+a),context[a]=generalCallback,l.type="text/javascript",l.src=r,l.async=!0,"undefined"!=typeof l.onreadystatechange&&!f&&(l.htmlFor=l.id="_reqwest_"+o),l.onload=l.onreadystatechange=function(){return l[readyState]&&"complete"!==l[readyState]&&"loaded"!==l[readyState]||u?!1:(l.onload=l.onreadystatechange=null,l.onclick&&l.onclick(),t(lastValue),lastValue=void 0,head.removeChild(l),u=1,void 0)},head.appendChild(l),{abort:function(){l.onload=l.onreadystatechange=null,n({},"Request is aborted: timeout",{}),lastValue=void 0,head.removeChild(l),u=1}}}function getRequest(e,t){var n,r=this.o,o=(r.method||"GET").toUpperCase(),i="string"==typeof r?r:r.url,a=r.processData!==!1&&r.data&&"string"!=typeof r.data?reqwest.toQueryString(r.data):r.data||null,s=!1;return("jsonp"==r.type||"GET"==o)&&a&&(i=urlappend(i,a),a=null),"jsonp"==r.type?handleJsonp(r,e,t,i):(n=r.xhr&&r.xhr(r)||xhr(r),n.open(o,i,r.async!==!1),setHeaders(n,r),setCredentials(n,r),context[xDomainRequest]&&n instanceof context[xDomainRequest]?(n.onload=e,n.onerror=t,n.onprogress=function(){},s=!0):n.onreadystatechange=handleReadyState(this,e,t),r.before&&r.before(n),s?setTimeout(function(){n.send(a)},200):n.send(a),n)}function Reqwest(e,t){this.o=e,this.fn=t,init.apply(this,arguments)}function setType(e){return null!==e?e.match("json")?"json":e.match("javascript")?"js":e.match("text")?"html":e.match("xml")?"xml":void 0:void 0}function init(o,fn){function complete(e){for(o.timeout&&clearTimeout(self.timeout),self.timeout=null;self._completeHandlers.length>0;)self._completeHandlers.shift()(e);
}function success(resp){var type=o.type||resp&&setType(resp.getResponseHeader("Content-Type"));resp="jsonp"!==type?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(e){}if(r)switch(type){case"json":try{resp=context.JSON?context.JSON.parse(r):eval("("+r+")")}catch(err){return error(resp,"Could not parse JSON in response",err)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}for(self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);self._fulfillmentHandlers.length>0;)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function timedOut(){self._timedOut=!0,self.request.abort()}function error(e,t,n){for(e=self.request,self._responseArgs.resp=e,self._responseArgs.msg=t,self._responseArgs.t=n,self._erred=!0;self._errorHandlers.length>0;)self._errorHandlers.shift()(e,t,n);complete(e)}this.url="string"==typeof o?o:o.url,this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this;fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){timedOut()},o.timeout)),o.success&&(this._successHandler=function(){o.success.apply(o,arguments)}),o.error&&this._errorHandlers.push(function(){o.error.apply(o,arguments)}),o.complete&&this._completeHandlers.push(function(){o.complete.apply(o,arguments)}),this.request=getRequest.call(this,success,error)}function reqwest(e,t){return new Reqwest(e,t)}function normalize(e){return e?e.replace(/\r?\n/g,"\r\n"):""}function serial(e,t){var n,r,o,i,a=e.name,s=e.tagName.toLowerCase(),c=function(e){e&&!e.disabled&&t(a,normalize(e.attributes.value&&e.attributes.value.specified?e.value:e.text))};if(!e.disabled&&a)switch(s){case"input":/reset|button|image|file/i.test(e.type)||(n=/checkbox/i.test(e.type),r=/radio/i.test(e.type),o=e.value,(!n&&!r||e.checked)&&t(a,normalize(n&&""===o?"on":o)));break;case"textarea":t(a,normalize(e.value));break;case"select":if("select-one"===e.type.toLowerCase())c(e.selectedIndex>=0?e.options[e.selectedIndex]:null);else for(i=0;e.length&&i<e.length;i++)e.options[i].selected&&c(e.options[i])}}function eachFormElement(){var e,t,n=this,r=function(e,t){var r,o,i;for(r=0;r<t.length;r++)for(i=e[byTag](t[r]),o=0;o<i.length;o++)serial(i[o],n)};for(t=0;t<arguments.length;t++)e=arguments[t],/input|select|textarea/i.test(e.tagName)&&serial(e,n),r(e,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var e={};return eachFormElement.apply(function(t,n){t in e?(e[t]&&!isArray(e[t])&&(e[t]=[e[t]]),e[t].push(n)):e[t]=n},arguments),e}function buildParams(e,t,n,r){var o,i,a,s=/\[\]$/;if(isArray(t))for(i=0;t&&i<t.length;i++)a=t[i],n||s.test(e)?r(e,a):buildParams(e+"["+("object"==typeof a?i:"")+"]",a,n,r);else if(t&&"[object Object]"===t.toString())for(o in t)buildParams(e+"["+o+"]",t[o],n,r);else r(e,t)}var context=this;if("document"in context)var doc=document,byTag="getElementsByTagName",head=doc[byTag]("head")[0];else{var XHR2;try{XHR2=require("xhr2")}catch(ex){throw new Error("Peer dependency `xhr2` required! Please npm install xhr2")}}var httpsRe=/^http/,protocolRe=/(^\w+):\/\//,twoHundo=/^(20\d|1223)$/,readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(e){if(e.crossOrigin===!0){var t=context[xmlHttpRequest]?new XMLHttpRequest:null;if(t&&"withCredentials"in t)return t;if(context[xDomainRequest]){var n=/^https?/;if(window.location.href.match(n)[0]!==e.url.match(n)[0])throw new Error("XDomainRequest: requests must be targeted to the same scheme as the hosting page.");return new XDomainRequest}throw new Error("Browser does not support cross-origin requests")}return context[xmlHttpRequest]?new XMLHttpRequest:XHR2?new XHR2:new ActiveXObject("Microsoft.XMLHTTP")},globalSetupOptions={dataFilter:function(e){return e}};return Reqwest.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(e,t){return e=e||function(){},t=t||function(){},this._fulfilled?this._responseArgs.resp=e(this._responseArgs.resp):this._erred?t(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(e),this._errorHandlers.push(t)),this},always:function(e){return this._fulfilled||this._erred?e(this._responseArgs.resp):this._completeHandlers.push(e),this},fail:function(e){return this._erred?e(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(e),this},"catch":function(e){return this.fail(e)}},reqwest.serializeArray=function(){var e=[];return eachFormElement.apply(function(t,n){e.push({name:t,value:n})},arguments),e},reqwest.serialize=function(){if(0===arguments.length)return"";var e,t,n=Array.prototype.slice.call(arguments,0);return e=n.pop(),e&&e.nodeType&&n.push(e)&&(e=null),e&&(e=e.type),t="map"==e?serializeHash:"array"==e?reqwest.serializeArray:serializeQueryString,t.apply(null,n)},reqwest.toQueryString=function(e,t){var n,r,o=t||!1,i=[],a=encodeURIComponent,s=function(e,t){t="function"==typeof t?t():null==t?"":t,i[i.length]=a(e)+"="+a(t)};if(isArray(e))for(r=0;e&&r<e.length;r++)s(e[r].name,e[r].value);else for(n in e)e.hasOwnProperty(n)&&buildParams(n,e[n],o,s);return i.join("&").replace(/%20/g,"+")},reqwest.getcallbackPrefix=function(){return callbackPrefix},reqwest.compat=function(e,t){return e&&(e.type&&(e.method=e.type)&&delete e.type,e.dataType&&(e.type=e.dataType),e.jsonpCallback&&(e.jsonpCallbackName=e.jsonpCallback)&&delete e.jsonpCallback,e.jsonp&&(e.jsonpCallback=e.jsonp)),new Reqwest(e,t)},reqwest.ajaxSetup=function(e){e=e||{};for(var t in e)globalSetupOptions[t]=e[t]},reqwest}),function(e){var t=!1;if("function"==typeof define&&define.amd&&(define(e),t=!0),"object"==typeof exports&&(module.exports=e(),t=!0),!t){var n=window.Cookies,r=window.Cookies=e();r.noConflict=function(){return window.Cookies=n,r}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(n){function r(t,o,i){var a;if("undefined"!=typeof document){if(arguments.length>1){if(i=e({path:"/"},r.defaults,i),"number"==typeof i.expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*i.expires),i.expires=s}try{a=JSON.stringify(o),/^[\{\[]/.test(a)&&(o=a)}catch(c){}return o=n.write?n.write(o,t):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)),t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),t=t.replace(/[\(\)]/g,escape),document.cookie=[t,"=",o,i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}t||(a={});for(var l=document.cookie?document.cookie.split("; "):[],u=/(%[0-9A-Z]{2})+/g,f=0;f<l.length;f++){var p=l[f].split("="),d=p.slice(1).join("=");'"'===d.charAt(0)&&(d=d.slice(1,-1));try{var m=p[0].replace(u,decodeURIComponent);if(d=n.read?n.read(d,m):n(d,m)||d.replace(u,decodeURIComponent),this.json)try{d=JSON.parse(d)}catch(c){}if(t===m){a=d;break}t||(a[m]=d)}catch(c){}}return a}}return r.set=r,r.get=function(e){return r.call(r,e)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,n){r(t,"",e(n,{expires:-1}))},r.withConverter=t,r}return t(function(){})}),"undefined"==typeof console&&(console={log:function(e){}}),Utils.prototype.splitWithTail=function(e,t,n){var r=e.split(t),o=r.slice(n).join(t),i=r.slice(0,n);return i.push(o),i},Utils.prototype.parseQueryString=function(e){var t={},n=e;-1!=e.indexOf("?")&&this.splitWithTail(e,"?",1)[0]&&(e=this.splitWithTail(e,"?",1)[1]),"?"==e.charAt(0)&&(e=e.substring(1)),e=e.replace("+"," ");for(var r=e.split(/[&;]/g),o=0;o<r.length;o++)if(-1!=r[o].indexOf("=")){var i=r[o].split("="),a=this.decode(i[0]),s=this.decode(i[1]);t[a]||(t[a]=[]),t[a].push(1==i.length?"":s)}else{if(-1==n.indexOf("?"))return alert("no querystring contained in \n "+r+" loaded from "+document.location.href),"";t.NULL=[],t.NULL.push(n.split("?")[1])}return t},Utils.prototype.decode=function(e){return unescape(e.replace(/\+/g," "))},Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,r=function(){},o=function(){return n.apply(this instanceof r?this:e,t.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(r.prototype=this.prototype),o.prototype=new r,o});var scorm12Obj=function(){"use strict";function e(e){}function t(t){for(e("In SCORM_findAPI");null==t.API&&null!=t.parent&&t.parent!=t;){if(a++,e("SCORM_findAPITries="+a),a>7)return e("Error finding API -- too deeply nested."),a=0,null;t=t.parent}return t.API}function n(){e("In SCORM_getAPI");var n=t(window);return null==n&&null!=parent.window.opener&&"undefined"!=typeof parent.window.opener&&(e("Looking in opener"),n=t(parent.window.opener)),null==n&&e("Unable to find an API adapter"),n}var r,o,i={};i.getRuntimeData=function(){return o},i.set=function(e,t){r.LMSSetValue(e,t)},i.commit=function(){r.LMSCommit("")},i.finish=function(){r.LMSCommit(""),r.LMSFinish(""),document.location.href="blank.htm"},i.loadDataFromLMS=function(){var e,t,a;if(r=n(),!r)return void alert("LMS API Adapter for SCORM 1.2 could not be located. There is no communication with the LMS therefor no content will be fetched from the content server.");if(e=r.LMSInitialize(""),"true"!==e)return void alert("LMS Initialize failed.");o={},o["cmi.core._children"]="",o["cmi.core.student_id"]="",o["cmi.core.student_name"]="",o["cmi.core.lesson_location"]="",o["cmi.core.credit"]="",o["cmi.core.lesson_status"]="",o["cmi.core.entry"]="",o["cmi.core.total_time"]="",o["cmi.core.lesson_mode"]="",o["cmi.suspend_data"]="",o["cmi.launch_data"]="",o["cmi.comments"]="",o["cmi.comments_from_lms"]="",o["cmi.core.score._children"]="",o["cmi.core.score.raw"]="",o["cmi.core.score.min"]="",o["cmi.core.score.max"]="",o["cmi.student_data._children"]="",o["cmi.student_data.mastery_score"]="",o["cmi.student_data.max_time_allowed"]="",o["cmi.student_data.time_limit_action"]="",o["cmi.student_preference._children"]="",o["cmi.student_preference.audio"]="",o["cmi.student_preference.language"]="",o["cmi.student_preference.speed"]="",o["cmi.student_preference.text"]="",o["cmi.objectives._children"]="",o["cmi.objectives._count"]="",o["cmi.interactions._children"]="",o["cmi.interactions._count"]="";for(a in o)t=r.LMSGetValue(a),o[a]=t;o.objectives=[],o.interactions=[],i.getObjectiveData(),i.getInteractionData(),i.setupDefaults()},i.setupDefaults=function(){if(s4xdmConfig.forceStatusIncompleteOnInit){var e=o["cmi.core.lesson_status"];e&&"not attempted"!==e||(o["cmi.core.lesson_status"]="incomplete",r.LMSSetValue("cmi.core.lesson_status","incomplete"))}},i.getObjectiveData=function(){if(s4xdmConfig.useObjectives){var e,t=-1,n=[];n[0]="id",n[1]="score._children",n[2]="score.raw",n[3]="score.min",n[4]="score.max",n[5]="status";var i="cmi.objectives._count",a=parseInt(r.LMSGetValue(i)),s="",c="";if(isNaN(a))o[i]="0";else{for(t=a-1;t>=0;t--)for(e=0;e<n.length;e++)s="cmi.objectives."+t+"."+n[e],c=r.LMSGetValue(s),o[s]=c;o[i]=a}}},i.getInteractionData=function(){if(s4xdmConfig.useInteractions){var e,t=-1,n=[],i="",a="";n[0]="objectives._count",n[1]="correct_responses._count";var s="cmi.interactions._count",c=parseInt(r.LMSGetValue(s));if(isNaN(c))o[s]="0";else{for(t=c-1;t>=0;t--)for(e=0;e<n.length;e++)i="cmi.interactions."+t+"."+n[e],a=r.LMSGetValue(i),o[i]=a;o[s]=c}}};var a=0;return i}(),scorm2004Obj=function(){"use strict";function e(){return null==a&&(a=n()),a}function t(e){for(var t=0;null==e.API_1484_11&&null!=e.parent&&e.parent!=e&&s>=t;)t++,e=e.parent;return e.API_1484_11}function n(){var e=null;return null!=window.parent&&window.parent!=window&&(e=t(window.parent)),null==e&&null!=window.top.opener&&(e=t(window.top.opener)),e}var r,o,i={};i.getRuntimeData=function(){return o},i.set=function(e,t){r.SetValue(e,t)},i.commit=function(){r.Commit("")},i.finish=function(){r.Commit(""),r.Terminate(""),document.location.href="blank.htm"},i.loadDataFromLMS=function(){var t,n,a;if(r=e(),!r)return void alert("LMS API Adapter for SCORM 2004 could not be located. There is no communication with the LMS therefor no content will be fetched from the content server.");if(t=r.Initialize(""),"true"!==t)return void alert("LMS Initialize failed.");o={},o["cmi._version"]="",o["cmi._children"]="",o["cmi.learner_id"]="",o["cmi.learner_name"]="",o["cmi.location"]="",o["cmi.credit"]="",o["cmi.completion_status"]="",o["cmi.completion_threshold"]="",o["cmi.success_status"]="",o["cmi.entry"]="",o["cmi.total_time"]="",o["cmi.mode"]="",o["cmi.suspend_data"]="",o["cmi.launch_data"]="",o["cmi.progress_measure"]="",o["cmi.scaled_passing_score"]="",o["cmi.score._children"]="",o["cmi.score.scaled"]="",o["cmi.score.raw"]="",o["cmi.score.min"]="",o["cmi.score.max"]="",o["cmi.max_time_allowed"]="",o["cmi.time_limit_action"]="",o["cmi.learner_preference._children"]="",o["cmi.learner_preference.audio_captioning"]="",o["cmi.learner_preference.delivery_speed"]="",o["cmi.learner_preference.language"]="",o["cmi.learner_preference.audio_level"]="",o["cmi.student_preference._children"]="",o["cmi.student_preference.audio"]="",o["cmi.student_preference.language"]="",o["cmi.student_preference.speed"]="",o["cmi.student_preference.text"]="",o["cmi.objectives._children"]="",o["cmi.objectives._count"]="",o["cmi.interactions._children"]="",o["cmi.interactions._count"]="",o["cmi.comments_from_lms._children"]="",o["cmi.comments_from_lms._count"]="",o["cmi.comments_from_learner._children"]="",o["cmi.comments_from_learner._count"]="";for(a in o)n=r.GetValue(a),o[a]=n;o.objectives=[],o.interactions=[],o.commentsFromLearner=[],o.commentsFromLMS=[],i.getObjectiveData(),i.getInteractionData(),i.getCommentsFromLearner(),i.getCommentsFromLMS(),i.setupDefaults()},i.setupDefaults=function(){if(s4xdmConfig.forceStatusIncompleteOnInit){var e=o["cmi.completion_status"];e&&"not attempted"!==e&&"unknown"!==e||(o["cmi.completion_status"]="incomplete",r.LMSSetValue("cmi.completion_status","incomplete"))}},i.getObjectiveData=function(){if(s4xdmConfig.useObjectives){var e,t=-1,n=[];n[0]="id",n[1]="score._children",n[2]="score.raw",n[3]="score.scaled",n[4]="score.min",n[5]="score.max",n[6]="success_status",n[7]="completion_status",n[8]="progress_measure",n[9]="description";var i="cmi.objectives._count",a=parseInt(r.GetValue(i)),s="",c="";if(isNaN(a))o[i]="0";else{for(t=a-1;t>=0;t--)for(e=0;e<n.length;e++)s="cmi.objectives."+t+"."+n[e],c=r.GetValue(s),o[s]=c;o[i]=a}}},i.getInteractionData=function(){if(s4xdmConfig.useInteractions){var e,t=-1,n=[],i="",a="";n[0]="objectives._count",n[1]="correct_responses._count",n[2]="id",n[3]="type",n[4]="objectives",n[5]="timestamp",n[6]="correct_responses",n[7]="weighting",n[8]="learner_response",n[9]="result",n[10]="latency",n[11]="description";var s="cmi.interactions._count",c=parseInt(r.GetValue(s));if(isNaN(c))o[s]="0";else{for(t=c-1;t>=0;t--)for(e=0;e<n.length;e++)i="cmi.interactions."+t+"."+n[e],a=r.GetValue(i),o[i]=a;o[s]=c}}},i.getCommentsFromLearner=function(){if(s4xdmConfig.useCommentsFromLearner){var e,t=-1,n=[];n[0]="comment",n[1]="location",n[2]="timestamp";var i="cmi.comments_from_learner._count",a=parseInt(r.GetValue(i)),s="",c="";if(isNaN(a))o[i]="0";else{for(t=a-1;t>=0;t--)for(e=0;e<n.length;e++)s="cmi.comments_from_learner."+t+"."+n[e],c=r.GetValue(s),o[s]=c;o[i]=a}}},i.getCommentsFromLMS=function(){if(s4xdmConfig.useCommentsFromLMS){var e,t=-1,n=[];n[0]="comment",n[1]="location",n[2]="timestamp";var i="cmi.comments_from_lms._count",a=parseInt(r.GetValue(i)),s="",c="";if(isNaN(a))o[i]="0";else{for(t=a-1;t>=0;t--)for(e=0;e<n.length;e++)s="cmi.comments_from_lms."+t+"."+n[e],c=r.GetValue(s),o[s]=c;o[i]=a}}};var a=null,s=500;return i}(),courseDir,scorm,scoPath,socket;window.onload=s4xdmInit,window.onunload=s4xdmUnload;
//# sourceMappingURL=stub.min.js.map
